(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),i=n(7),s=n.n(i),o=(n(33),n(34),n(3)),l=n(15),d=n(6),u=n(14),j=n.n(u),p=n(25),b=n(26),h=n(9),y=n.n(h),O="EMPLOYEES_LIST_REQUEST",f="EMPLOYEES_LIST_SUCCESS",m="EMPLOYEES_LIST_FAIL",v="UPDATE_EMPLOYEES_CHECK_BOX",x="EMPLOYEE_ADD",g="EMPLOYEE_REMOVE",E=function(e){var t,n={A:[],B:[],C:[],D:[],E:[],F:[],G:[],H:[],I:[],J:[],K:[],L:[],M:[],N:[],O:[],P:[],Q:[],R:[],S:[],T:[],U:[],V:[],W:[],X:[],Y:[],Z:[]},r=[],a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,i=c.lastName[0];c.notActive=!0,c.active=!1,n[i].push(c)}}catch(j){a.e(j)}finally{a.f()}var s,o=new Map(Object.entries(n)),l=Object(d.a)(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;r.push(u)}}catch(j){l.e(j)}finally{l.f()}return r},S=function(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{dob:N(e.dob)})}))},N=function(e){var t=new Date(e),n=y()(t).format("MMMM"),r=y()(t).format("YYYY"),a=y()(t).format("D");return"".concat(a," ").concat(n,", ").concat(r," year")},L=n(5),J=function(e,t,n){var r,a=JSON.parse(JSON.stringify(e));return a.find((function(e){return e[0]===t}))[1].forEach((function(e){e.id===n&&(e.active=!e.active,e.notActive=!e.notActive,r=e)})),[a,r]},M=function(e,t){var n,r=Object(d.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;a[1].length>1&&e===a[0]&&a[1].sort((function(e,t){return e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:-1}))}}catch(c){r.e(c)}finally{r.f()}return t},_=function(e,t,n){if(t.length)return t.map((function(t){return t[0]===n&&t[1].push(e),t}));var r={May:[],June:[],July:[],August:[],September:[],October:[],November:[],December:[],January:[],February:[],March:[],April:[]};r[n].push(e);var a,c=[],i=new Map(Object.entries(r)),s=Object(d.a)(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;c.push(o)}}catch(l){s.e(l)}finally{s.f()}return c},B=function(e){var t=e.employee,n=t.firstName,a=t.lastName,c=t.active,i=t.notActive,s=t.id,l=e.letter,d=Object(o.b)(),u=function(){d(function(e,t){return function(n,r){var a=r(),c=J(a.employeesList.employees,e,t),i=Object(L.a)(c,2),s=i[0],o=i[1];n({type:v,payload:s}),localStorage.setItem("employees",JSON.stringify(s));var l=o.dob.split(" ")[1].slice(0,-1);if(o.active){var d=JSON.parse(JSON.stringify(a.birthdayList.employeesBirthday)),u=_(o,d,l),j=M(l,u);n({type:x,payload:j}),localStorage.setItem("employeesBirthday",JSON.stringify(j))}else{var p=JSON.parse(JSON.stringify(a.birthdayList.employeesBirthday));p.forEach((function(e){if(e[0]===l)if(1===e[1].length)e[1]=[];else for(var t=0;t<=e[1].length;t++)if(e[1][t].id===o.id){e[1].splice(t,1);break}})),n({type:g,payload:p}),localStorage.setItem("employeesBirthday",JSON.stringify(p))}}}(l,s))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{style:c?{color:"blue"}:{color:"inherit"},children:Object(r.jsxs)("span",{style:{fontWeight:"bold"},children:[a," ",n]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:Object(r.jsxs)("label",{children:["not active"," ",Object(r.jsx)("input",{type:"radio",name:s,checked:i,onChange:u})]})})}),Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:Object(r.jsxs)("label",{children:["active"," ",Object(r.jsx)("input",{type:"radio",name:s,checked:c,onChange:u})]})})})]})]})})},w=function(e){var t=e.listBox,n=Object(L.a)(t,2),a=n[0],c=n[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:a}),Object(r.jsx)("ul",{className:"listByAlphabet",children:c.length?c.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(B,{employee:e,letter:a})},e.id)})):Object(r.jsx)("li",{children:"------"})})]})},k=function(){var e=Object(o.c)((function(e){return e.employeesList})),t=e.employees,n=e.loading,c=e.error,i=Object(o.b)();return Object(a.useEffect)((function(){i(function(){var e=Object(p.a)(j.a.mark((function e(t){var n,r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.employees){e.next=5;break}n=JSON.parse(localStorage.employees),t({type:f,payload:n}),e.next=19;break;case 5:return e.prev=5,t({type:O}),e.next=9,b.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 9:r=e.sent,a=r.data,c=E(S(a)),t({type:f,payload:c}),localStorage.setItem("employees",JSON.stringify(c)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t({type:m,payload:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.jsxs)("div",{className:"blockEmployees",children:[Object(r.jsx)("h1",{children:"Employees"}),n?Object(r.jsx)("div",{children:"Loading..."}):c?Object(r.jsx)("div",{children:"error"}):Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"containerEmployees",children:t.map((function(e){return Object(r.jsx)("div",{className:"boxEmployees",children:Object(r.jsx)(w,{listBox:e})},e[0])}))})})]})},C=function(e){var t=e.boxList,n=Object(L.a)(t,2),a=n[0],c=n[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{children:a}),Object(r.jsx)("ul",{children:c.map((function(e){return Object(r.jsxs)("li",{children:[e.lastName," ",e.firstName," - ",e.dob]},e.id)}))})]})},I=function(){var e=Object(o.c)((function(e){return e.birthdayList.employeesBirthday})).filter((function(e){return 0!==e[1].length}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Employees birthday"}),e.length?Object(r.jsx)("div",{className:"boxBirthday",children:e.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(C,{boxList:e})},e[0])}))}):Object(r.jsx)("div",{children:" Employees List is empty"})]})};var A=function(){return Object(r.jsxs)("div",{className:"wrapper",children:[Object(r.jsx)(k,{}),Object(r.jsx)(I,{})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Y=n(4),D=n(27),T=Object(Y.c)({employeesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{employees:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0,employees:[]};case f:return{loading:!1,employees:t.payload};case m:return{loading:!1,error:t.payload};case v:return{loading:!1,employees:t.payload};default:return e}},birthdayList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{employeesBirthday:JSON.parse(localStorage.getItem("employeesBirthday")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case g:return{employeesBirthday:t.payload};default:return e}}}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,U=Object(Y.e)(T,{},F(Object(Y.a)(D.a)));s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{store:U,children:Object(r.jsx)(A,{})})}),document.getElementById("root")),P()}},[[60,1,2]]]);
//# sourceMappingURL=main.8bf4ac7d.chunk.js.map